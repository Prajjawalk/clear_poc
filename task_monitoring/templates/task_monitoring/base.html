{% extends "layout.html" %}
{% load i18n %}

{% block title %}{% trans "NRC EWAS - Task Monitoring" %}{% endblock %}
{% block description %}Norwegian Refugee Council Early Warning and Alert System for Sudan - Task Monitoring{% endblock %}
{% block header_subtitle %}{% trans "Task Monitoring" %}{% endblock %}
{% block app_class %}app-task-monitoring{% endblock %}

{% block sidebar_icon %}bi bi-activity{% endblock %}
{% block sidebar_color %}warning{% endblock %}
{% block sidebar_heading %}{% trans "Task Monitoring" %}{% endblock %}

{% block mobile_sidebar_icon %}bi bi-activity{% endblock %}
{% block mobile_sidebar_color %}warning{% endblock %}
{% block mobile_sidebar_heading %}{% trans "Task Monitoring" %}{% endblock %}

{% block sidebar_nav %}
<ul class="nav nav-pills flex-column">
    <li class="nav-item mb-1">
        <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
           href="{% url 'task_monitoring:dashboard' %}">
            <i class="bi bi-speedometer2 me-2"></i>
            {% trans "Dashboard" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if 'scheduled' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'task_monitoring:scheduled_tasks_list' %}">
            <i class="bi bi-calendar3 me-2"></i>
            {% trans "Scheduled Tasks" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if request.resolver_match.url_name == 'task_executions_list' %}active{% endif %}"
           href="{% url 'task_monitoring:task_executions_list' %}">
            <i class="bi bi-list-task me-2"></i>
            {% trans "Task Executions" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if request.resolver_match.url_name == 'queue_monitoring' %}active{% endif %}"
           href="{% url 'task_monitoring:queue_monitoring' %}">
            <i class="bi bi-layers me-2"></i>
            {% trans "Queue Monitoring" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if 'logs' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'task_monitoring:logs_list' %}">
            <i class="bi bi-file-text me-2"></i>
            {% trans "Task Logs" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link" href="{% url 'data_pipeline:dashboard' %}">
            <i class="bi bi-diagram-3 me-2"></i>
            {% trans "Data Pipeline" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link" href="{% url 'location:dashboard' %}">
            <i class="bi bi-geo-alt me-2"></i>
            {% trans "Location Management" %}
        </a>
    </li>
</ul>
{% endblock %}

{% block mobile_sidebar_nav %}
<ul class="nav nav-pills flex-column">
    <li class="nav-item mb-1">
        <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
           href="{% url 'task_monitoring:dashboard' %}">
            <i class="bi bi-speedometer2 me-2"></i>
            {% trans "Dashboard" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if 'scheduled' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'task_monitoring:scheduled_tasks_list' %}">
            <i class="bi bi-calendar3 me-2"></i>
            {% trans "Scheduled Tasks" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if request.resolver_match.url_name == 'task_executions_list' %}active{% endif %}"
           href="{% url 'task_monitoring:task_executions_list' %}">
            <i class="bi bi-list-task me-2"></i>
            {% trans "Task Executions" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if request.resolver_match.url_name == 'queue_monitoring' %}active{% endif %}"
           href="{% url 'task_monitoring:queue_monitoring' %}">
            <i class="bi bi-layers me-2"></i>
            {% trans "Queue Monitoring" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link {% if 'logs' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'task_monitoring:logs_list' %}">
            <i class="bi bi-file-text me-2"></i>
            {% trans "Task Logs" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link" href="{% url 'data_pipeline:dashboard' %}">
            <i class="bi bi-diagram-3 me-2"></i>
            {% trans "Data Pipeline" %}
        </a>
    </li>
    <li class="nav-item mb-1">
        <a class="nav-link" href="{% url 'location:dashboard' %}">
            <i class="bi bi-geo-alt me-2"></i>
            {% trans "Location Management" %}
        </a>
    </li>
</ul>
{% endblock %}

{% block sidebar_actions %}
<hr class="my-3">

<h6 class="sidebar-heading nrc-heading mb-3">
    <i class="bi bi-lightning me-2 text-warning"></i>
    {% trans "Quick Actions" %}
</h6>
<div class="d-grid gap-2">
    <a href="{% url 'task_monitoring:create_scheduled_task' %}" class="btn btn-outline-primary btn-sm">
        <i class="bi bi-plus-circle me-1"></i>{% trans "New Scheduled Task" %}
    </a>
    <a href="{% url 'task_monitoring:queue_monitoring' %}" class="btn btn-outline-warning btn-sm">
        <i class="bi bi-layers me-1"></i>{% trans "Queue Monitor" %}
    </a>
    <a href="{% url 'task_monitoring:executions_api' %}" class="btn btn-outline-info btn-sm" target="_blank">
        <i class="bi bi-list-ul me-1"></i>{% trans "API: Executions" %}
    </a>
    <a href="{% url 'task_monitoring:statistics_api' %}" class="btn btn-outline-success btn-sm" target="_blank">
        <i class="bi bi-graph-up me-1"></i>{% trans "API: Statistics" %}
    </a>
</div>
{% endblock %}

{% block mobile_sidebar_actions %}
<hr class="my-3">

<h6 class="sidebar-heading nrc-heading mb-3">
    <i class="bi bi-lightning me-2 text-warning"></i>
    {% trans "Quick Actions" %}
</h6>
<div class="d-grid gap-2">
    <a href="{% url 'task_monitoring:create_scheduled_task' %}" class="btn btn-outline-primary btn-sm">
        <i class="bi bi-plus-circle me-1"></i>{% trans "New Scheduled Task" %}
    </a>
    <a href="{% url 'task_monitoring:queue_monitoring' %}" class="btn btn-outline-warning btn-sm">
        <i class="bi bi-layers me-1"></i>{% trans "Queue Monitor" %}
    </a>
    <a href="{% url 'task_monitoring:executions_api' %}" class="btn btn-outline-info btn-sm" target="_blank">
        <i class="bi bi-list-ul me-1"></i>{% trans "API: Executions" %}
    </a>
    <a href="{% url 'task_monitoring:statistics_api' %}" class="btn btn-outline-success btn-sm" target="_blank">
        <i class="bi bi-graph-up me-1"></i>{% trans "API: Statistics" %}
    </a>
</div>
{% endblock %}
