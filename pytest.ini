[pytest]
DJANGO_SETTINGS_MODULE = app.settings.test

# Test discovery - pytest will discover both unittest.TestCase and pytest-style tests
python_files = tests.py test_*.py *_tests.py
python_classes = Test*
python_functions = test_*
testpaths = .

# Options
addopts =
    --reuse-db
    --tb=short
    --strict-markers
    --disable-warnings
    -v
    --ds=app.settings.test

# Parallel execution - uncomment to enable by default
# Run with: pytest -n auto (auto-detect CPU cores) or pytest -n 4 (4 workers)
# Note: parallel execution requires pytest-xdist to be installed

# Markers for different test types
markers =
    e2e: End-to-end tests using Playwright (deselect with '-m "not e2e"')
    slow: Slow tests that take more than a few seconds
    integration: Integration tests
    unit: Unit tests
    django_db: Mark test as requiring database access

# Coverage (optional)
# Uncomment to enable coverage reporting
# addopts = --cov=. --cov-report=html --cov-report=term-missing
