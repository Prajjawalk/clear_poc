@use "sass:color";
@use "variables" as *;

// ============================================================================
// NRC HEADER: Navbar and Branding
// ============================================================================

.nrc-header {
    background: linear-gradient(135deg, $nrc-orange 0%, color.scale($nrc-orange, $lightness: -10%) 100%);
    color: $nrc-white;
    padding: 0.5rem 0;
    box-shadow: 0 2px 4px rgba($nrc-black, 0.1);

    .nrc-logo-desktop {
        max-height: 80px;
        width: auto;
        margin-top: -20px;
    }

    .nrc-logo-mobile {
        max-height: 50px;
        width: 50px;
        margin-top: -5px;
    }

    .nrc-brand-text {
        font-family: 'Roboto', sans-serif;
        font-weight: 500;
        color: $nrc-white;
        text-decoration: none;

        &:hover {
            color: $nrc-white;
            text-decoration: none;
        }

        @media (max-width: 800px) {
            font-size: 1rem !important;
            font-weight: 600 !important;
            line-height: 1.2;
            display: block !important;
        }
    }

    // Mobile header adjustments
    @media (max-width: 800px) {
        padding: 0.15rem 0;

        .navbar {
            padding-bottom: 0 !important;
        }

        .container-fluid {
            padding: 0 0.75rem !important;
            align-items: center !important;
            min-height: auto !important;
        }

        .navbar-brand {
            padding-bottom: 0 !important;
            margin-bottom: 0 !important;
            flex: 1;
            min-width: 0; // Allow text to shrink
            margin-right: 0.5rem;
            flex-wrap: nowrap; // Prevent wrapping
            align-items: center;

            .nrc-brand-text {
                font-size: 1rem !important;
                font-weight: 600 !important;
                line-height: 1.1 !important;
                white-space: nowrap !important;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 100%;
                display: block !important;
                color: $nrc-white !important;
                margin: 20px 0 0 0 !important;
                padding-bottom: 0 !important;
            }

            // Logo styles
            .nrc-logo-desktop, .nrc-logo-mobile {
                flex-shrink: 0;
                height: auto;
                max-height: 40px; // Limit logo height
                filter: brightness(1) contrast(1); // Ensure proper visibility
                opacity: 1; // Ensure no transparency issues
                background-color: transparent;
            }
        }

        .navbar-toggler {
            padding: 0.1rem;
            font-size: 1rem;
            border: none;
            flex-shrink: 0;
        }
    }

    // Apps dropdown menu styling
    .dropdown-menu {
        border: 1px solid rgba($nrc-orange, 0.2);
        border-radius: 0.375rem;
        box-shadow: 0 0.5rem 1rem rgba($nrc-black, 0.15);

        .dropdown-item {
            color: $nrc-cool-grey-11;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;

            &:hover {
                background-color: rgba($nrc-orange, 0.08);
                color: $nrc-orange;
            }

            &.active {
                background-color: $nrc-orange;
                color: $nrc-white;
                font-weight: 500;

                &:hover {
                    background-color: color.scale($nrc-orange, $lightness: -10%);
                    color: $nrc-white;
                }
            }

            i {
                width: 1.2rem;
                flex-shrink: 0;
            }
        }
    }
}
