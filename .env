# NRC EWAS Sudan - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# Django Configuration
DJANGO_ENV=PROD
DJANGO_SECRET_KEY=app
DJANGO_SUPERUSER_USERNAME="Prajjawal"
DJANGO_SUPERUSER_PASSWORD="Hello@123"
DJANGO_SUPERUSER_EMAIL="prajjawalkhandelwal@gmail.com"

# Database Configuration (PostgreSQL on host)
DB_HOST=ballast.proxy.rlwy.net
DB_PORT=48150
DB_NAME=railway
DB_USER=postgres
DB_PASSWORD=bfAFAc4646b133Gb1dDFeGAdFBEee56b

# Redis Configuration (handled by docker-compose)
CELERY_BROKER_URL=redis://default:HFpxCPUUZerQtlSxtVCMUGPaVunSrEES@switchyard.proxy.rlwy.net:22081
CELERY_RESULT_BACKEND=django-db

# API Keys (required for data sources)
IDMC_API_KEY=change_me
ACLED_API_KEY=change_me

# SMTP Configuration (using Office365)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=change_me
EMAIL_PORT=587
EMAIL_HOST_USER=change_me
EMAIL_HOST_PASSWORD=change_me
EMAIL_USE_TLS=True
EMAIL_DEFAULT_FROM='noreply@masae-analytics.com'

# Email Configuration (for notifications)
EMAIL_NOTIFICATIONS_ENABLED=True  # Master switch
EMAIL_TEST_MODE=True               # Test mode flag
EMAIL_TEST_ADDRESS=test@example.com # Test recipient
EMAIL_RATE_LIMIT=100              # Max emails per hour
EMAIL_BATCH_SIZE=50               # Emails per batch

# Digest Schedule
DAILY_DIGEST_HOUR=8               # Hour to send daily digest (0-23)
WEEKLY_DIGEST_DAY=1               # Day for weekly digest (1=Monday)
MONTHLY_DIGEST_DAY=1              # Day of month for monthly digest

# Security Settings (Production)
ALLOWED_HOSTS=localhost,127.0.0.1,nrc-ewas.masae-analytics.com
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# Logging
LOG_LEVEL=INFO

# internal API urls
PIPELINE_API_BASE_URL="http://localhost:8000/pipeline/api/"
PIPELINE_API_UPDATE_ENDPOINT="update-locations/"
PIPELINE_API_TIMEOUT=30  # seconds

# TiTiler Configuration
TITILER_HOST=127.0.0.1
TITILER_PORT=8001
TITILER_API_DISABLE_DOCS=false
TITILER_API_CORS_ORIGINS=TITILER_API_CORS_ORIGINS='["http://localhost:8000", "http://127.0.0.1:8000"]'
